from typing import Dict, List, Optional
from backend.databases.database import Database
from datetime import datetime
def parse_flight_info(itineraries: List[Dict]) -> List[Dict]:
    flight_data = []
    for itinerary in itineraries:
        if itinerary.get('tags', 0):
            if "cheapest" in itinerary['tags'] or "shortest" in itinerary['tags']:
                try:
                    price = itinerary['price']['raw']
                    leg = itinerary['legs'][0]
                    departure_time = parse_time(leg['departure'])
                    arrival_time = parse_time(leg['arrival'])
                    origin_airport = leg['origin']['id']
                    destination_airport = leg['destination']['id']
                    direct = leg.get("stopCount", 0)
                    carriers = leg.get("carriers", {})
                    marketing_carriers = [carrier["name"] for carrier in carriers.get("marketing", [])]
                    operating_carriers = [carrier["name"] for carrier in carriers.get("operating", [])]
                    tags = itinerary['tags']

                    flight_info = {
                        'marketing_carriers': marketing_carriers,
                        'operating_carriers': operating_carriers,
                        'departure_time': departure_time,
                        'arrival_time': arrival_time,
                        'origin_airport': origin_airport,
                        'destination_airport': destination_airport,
                        'direct': direct,
                        'price': price,
                        'tags': tags
                    }

                    flight_data.append(flight_info)
                except Exception as e:
                    print(f"Error parsing flight info: {e}")
                    continue

    return flight_data
def get_lowest_fare(flight_data: List[Dict]) -> Dict:
    if not flight_data:
        return {}

    lowest_fare = min(flight_data, key=lambda x: x['price'])
    return lowest_fare

def extract_price(price_str: str) -> float:
    # 쉼표를 제거한 후 float로 변환
    return float(price_str.replace('₩', '').replace(',', ''))


def summarize_flight_information(db: Database, flight_data: List[Dict]) -> str:
    summary=""
    for data in flight_data:
        origin_airport = data.get('origin_airport', '')
        origin = get_airports_name(db, origin_airport)
        destination_airport = data.get('destination_airport', '')
        destination = get_airports_name(db, destination_airport)
        departure_time = data.get('departure_time', '')
        arrival_time = data.get('arrival_time', '')
        print(data.get('price'))
        price = format(int(data.get('price', 0)), ',') + '원'
        marketing_carriers = data.get('marketing_carriers', '')
        operating_carriers = data.get('operating_carriers', '')
        direct = data.get('direct')
        tags = "최저가 항공편" if "cheapest" in data.get('tags')  else "최단거리 항공편"
        # 예약 링크 생성
        booking_link = create_booking_link(origin_airport, destination_airport, departure_time.strftime('%Y%m%d'))
        summary += (
            f"{tags}\n"
            f"금액: {price}\n"
            f"경유: {f'{direct}회 경유' if direct else '직항'}\n"
            f"출발: {origin}({origin_airport})에서 {departure_time}\n"
            f"도착: {destination}({destination_airport})에 {arrival_time}\n"
            f"마케팅 항공사: {','.join(marketing_carriers)}\n" if marketing_carriers else ""
            f"운영 항공사: {','.join(operating_carriers)}\n" if operating_carriers else ""
            f"\n"
        )

        summary +=f"[예약 링크]({booking_link})\n\n"
    return summary

def parse_time(time: str) -> datetime:
    return datetime.fromisoformat(time)

def create_booking_link(origin: str, destination: str, departure_date: str, adults: int=1) -> str:
    # 예시 링크 형식에 맞추어 예약 링크 생성
    return (f"https://www.skyscanner.co.kr/transport/flights/{origin.lower()}/{destination.lower()}/"
            f"{departure_date}/?adults={adults}&adultsv2={adults}&cabinclass=economy&children=0&"
            "childrenv2=&inboundaltsenabled=false&infants=0&originentityid=27539733&outboundaltsenabled=false&"
            "preferdirects=false&ref=home&rtn=0")

def create_skyscanner_link(**kwargs) -> str:
    return f"/flights/search-one-way?fromEntityId={kwargs['originLocationCode']}&toEntityId={kwargs['destinationLocationCode']}&departureDate={kwargs['departureDate']}&adults={kwargs['adults']}&cabinClass=economy&currency=KRW"

def get_airline_data(db: Database, airline_code: str) -> Optional[str]:
    try:
        return db.fetch_data(table="carriers", params={"carrierCode": airline_code})[0][1]
    except IndexError:
        print(f"No data found for airline code: {airline_code}")
        return None
    except Exception as e:
        print(f"Database error: {e}")
        return None

def get_airports_name(db: Database, iata: str) -> Optional[str]:
    try:
        return db.fetch_data(table="airports", columns="AIRPORT_NAME", params={"IATA": iata})[0][0]
    except IndexError:
        print(f"No data found for IATA code: {iata}")
        return None
    except Exception as e:
        print(f"Database error: {e}")
        return None


def validate_date(date_str: str) -> str:
    try:
        # 입력된 날짜를 datetime 객체로 변환
        input_date = datetime.fromisoformat(date_str)
        current_date = datetime.now()

        # 연도가 현재 연도보다 이전인 경우, 현재 연도로 변경
        if input_date < current_date:
            new_date = input_date.replace(year=current_date.year)
            # 새로운 날짜가 현재 날짜보다 이전인 경우, 다음 해로 설정
            if new_date < current_date:
                new_date = new_date.replace(year=current_date.year + 1)
            return new_date.strftime("%Y-%m-%d")
        else:
            return date_str
    except ValueError:
        return "Invalid date format. Please use 'YYYY-MM-DD'."



if __name__ == "__main__":
    import json
    # db = Database()
    # name = get_airports_name(db, 'ICN')
    # print(name)
    # d = {'data': {'context': {'status': 'incomplete', 'sessionId': 'ClQIARJQCk4KJDEzOGNkMDc2LTNkNGEtNGFmOC1iMmJmLThiNDhlMjQxMzMwORACGiQyMDY4YWQxZS0xNWJlLTQzMjAtYTgwOC03MDU1YmQxNWFmNWUSKHVzc19iYjFhMzI3ZC1iYTMyLTQzMzgtYTFjNy03MzQyNTc3ZTk1ZmM=', 'totalResults': 10}, 'itineraries': [{'id': '15083-2408151850--30858,-31825-1-14355-2408160016', 'price': {'raw': 659634.0, 'formatted': '₩659,634', 'pricingOptionId': 'tiQUH7oQPZVO'}, 'legs': [{'id': '15083-2408151850--30858,-31825-1-14355-2408160016', 'origin': {'id': 'ORY', 'entityId': '95565040', 'name': 'Paris Orly', 'displayCode': 'ORY', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 746, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T18:50:00', 'arrival': '2024-08-16T00:16:00', 'timeDeltaInDays': 1, 'carriers': {'marketing': [{'id': -30858, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/BF.png', 'name': 'French Bee'}, {'id': -31825, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/NK.png', 'name': 'Spirit Airlines'}], 'operationType': 'fully_operated'}, 'segments': [{'id': '15083-11442-2408151850-2408152100--30858', 'origin': {'flightPlaceId': 'ORY', 'displayCode': 'ORY', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Orly', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'EWR', 'displayCode': 'EWR', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York Newark', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T18:50:00', 'arrival': '2024-08-15T21:00:00', 'durationInMinutes': 490, 'flightNumber': '720', 'marketingCarrier': {'id': -30858, 'name': 'French Bee', 'alternateId': 'BF', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -30858, 'name': 'French Bee', 'alternateId': 'BF', 'allianceId': 0, 'displayCode': ''}}, {'id': '11442-14355-2408152210-2408160016--31825', 'origin': {'flightPlaceId': 'EWR', 'displayCode': 'EWR', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York Newark', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T22:10:00', 'arrival': '2024-08-16T00:16:00', 'durationInMinutes': 186, 'flightNumber': '749', 'marketingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': True, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'eco': {'ecoContenderDelta': 33.69962}, 'fareAttributes': {}, 'tags': ['shortest'], 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.999}, {'id': '10413-2408152005--30667,-31825-2-14355-2408161810', 'price': {'raw': 515131.01, 'formatted': '₩515,132', 'pricingOptionId': 'V8ecStfdTh-v'}, 'legs': [{'id': '10413-2408152005--30667,-31825-2-14355-2408161810', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 1745, 'stopCount': 2, 'isSmallestStops': False, 'departure': '2024-08-15T20:05:00', 'arrival': '2024-08-16T18:10:00', 'timeDeltaInDays': 1, 'carriers': {'marketing': [{'id': -30667, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/9%7E.png', 'name': 'Norse Atlantic Airways'}, {'id': -31825, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/NK.png', 'name': 'Spirit Airlines'}], 'operationType': 'fully_operated'}, 'airportChangesIn': ['New York'], 'segments': [{'id': '10413-12712-2408152005-2408152215--30667', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'JFK', 'displayCode': 'JFK', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York John F. Kennedy', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T20:05:00', 'arrival': '2024-08-15T22:15:00', 'durationInMinutes': 490, 'flightNumber': '301', 'marketingCarrier': {'id': -30667, 'name': 'Norse Atlantic Airways', 'alternateId': '9~', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -30667, 'name': 'Norse Atlantic Airways', 'alternateId': '9~', 'allianceId': 0, 'displayCode': ''}}, {'id': '11442-9596-2408161311-2408161530--31825', 'origin': {'flightPlaceId': 'EWR', 'displayCode': 'EWR', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York Newark', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'ATL', 'displayCode': 'ATL', 'parent': {'flightPlaceId': 'ATLA', 'displayCode': 'ATL', 'name': 'Atlanta', 'type': 'City'}, 'name': 'Atlanta Hartsfield-Jackson', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-16T13:11:00', 'arrival': '2024-08-16T15:30:00', 'durationInMinutes': 139, 'flightNumber': '742', 'marketingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}}, {'id': '9596-14355-2408161737-2408161810--31825', 'origin': {'flightPlaceId': 'ATL', 'displayCode': 'ATL', 'parent': {'flightPlaceId': 'ATLA', 'displayCode': 'ATL', 'name': 'Atlanta', 'type': 'City'}, 'name': 'Atlanta Hartsfield-Jackson', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-16T17:37:00', 'arrival': '2024-08-16T18:10:00', 'durationInMinutes': 93, 'flightNumber': '311', 'marketingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': True, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'eco': {'ecoContenderDelta': 19.834911}, 'fareAttributes': {}, 'tags': ['second_cheapest'], 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.547203}, {'id': '10413-2408152005--30667,-31825-1-14355-2408170016', 'price': {'raw': 472779.0, 'formatted': '₩472,779', 'pricingOptionId': 'FWRKMZbRYUes'}, 'legs': [{'id': '10413-2408152005--30667,-31825-1-14355-2408170016', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 2111, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T20:05:00', 'arrival': '2024-08-17T00:16:00', 'timeDeltaInDays': 2, 'carriers': {'marketing': [{'id': -30667, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/9%7E.png', 'name': 'Norse Atlantic Airways'}, {'id': -31825, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/NK.png', 'name': 'Spirit Airlines'}], 'operationType': 'fully_operated'}, 'airportChangesIn': ['New York'], 'segments': [{'id': '10413-12712-2408152005-2408152215--30667', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'JFK', 'displayCode': 'JFK', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York John F. Kennedy', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T20:05:00', 'arrival': '2024-08-15T22:15:00', 'durationInMinutes': 490, 'flightNumber': '301', 'marketingCarrier': {'id': -30667, 'name': 'Norse Atlantic Airways', 'alternateId': '9~', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -30667, 'name': 'Norse Atlantic Airways', 'alternateId': '9~', 'allianceId': 0, 'displayCode': ''}}, {'id': '11442-14355-2408162210-2408170016--31825', 'origin': {'flightPlaceId': 'EWR', 'displayCode': 'EWR', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York Newark', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-16T22:10:00', 'arrival': '2024-08-17T00:16:00', 'durationInMinutes': 186, 'flightNumber': '749', 'marketingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': True, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'eco': {'ecoContenderDelta': 20.810276}, 'fareAttributes': {}, 'tags': ['cheapest'], 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.534105}, {'id': '10413-2408152005--30667,-31825-2-14355-2408161430', 'price': {'raw': 657775.0, 'formatted': '₩657,775', 'pricingOptionId': 'EHJ-XBBSco4V'}, 'legs': [{'id': '10413-2408152005--30667,-31825-2-14355-2408161430', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 1525, 'stopCount': 2, 'isSmallestStops': False, 'departure': '2024-08-15T20:05:00', 'arrival': '2024-08-16T14:30:00', 'timeDeltaInDays': 1, 'carriers': {'marketing': [{'id': -30667, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/9%7E.png', 'name': 'Norse Atlantic Airways'}, {'id': -31825, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/NK.png', 'name': 'Spirit Airlines'}], 'operationType': 'fully_operated'}, 'airportChangesIn': ['New York'], 'segments': [{'id': '10413-12712-2408152005-2408152215--30667', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'JFK', 'displayCode': 'JFK', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York John F. Kennedy', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T20:05:00', 'arrival': '2024-08-15T22:15:00', 'durationInMinutes': 490, 'flightNumber': '301', 'marketingCarrier': {'id': -30667, 'name': 'Norse Atlantic Airways', 'alternateId': '9~', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -30667, 'name': 'Norse Atlantic Airways', 'alternateId': '9~', 'allianceId': 0, 'displayCode': ''}}, {'id': '13522-13933-2408160600-2408160857--31825', 'origin': {'flightPlaceId': 'LGA', 'displayCode': 'LGA', 'parent': {'flightPlaceId': 'NYCA', 'displayCode': 'NYC', 'name': 'New York', 'type': 'City'}, 'name': 'New York LaGuardia', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MCO', 'displayCode': 'MCO', 'parent': {'flightPlaceId': 'ORLB', 'displayCode': 'ORL', 'name': 'Orlando', 'type': 'City'}, 'name': 'Orlando International', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-16T06:00:00', 'arrival': '2024-08-16T08:57:00', 'durationInMinutes': 177, 'flightNumber': '1350', 'marketingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}}, {'id': '13933-14355-2408161343-2408161430--31825', 'origin': {'flightPlaceId': 'MCO', 'displayCode': 'MCO', 'parent': {'flightPlaceId': 'ORLB', 'displayCode': 'ORL', 'name': 'Orlando', 'type': 'City'}, 'name': 'Orlando International', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-16T13:43:00', 'arrival': '2024-08-16T14:30:00', 'durationInMinutes': 107, 'flightNumber': '3644', 'marketingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31825, 'name': 'Spirit Airlines', 'alternateId': 'NK', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': True, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'eco': {'ecoContenderDelta': 10.947996}, 'fareAttributes': {}, 'tags': ['third_cheapest'], 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.46455}, {'id': '10413-2408151125--32480-1-14355-2408151811', 'price': {'raw': 1696906.2, 'formatted': '₩1,696,907', 'pricingOptionId': '2B5MjYLgetsL'}, 'legs': [{'id': '10413-2408151125--32480-1-14355-2408151811', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 826, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T11:25:00', 'arrival': '2024-08-15T18:11:00', 'timeDeltaInDays': 0, 'carriers': {'marketing': [{'id': -32480, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/BA.png', 'name': 'British Airways'}], 'operating': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}, {'id': -31007, 'name': 'Envoy Air As American Eagle'}], 'operationType': 'not_operated'}, 'segments': [{'id': '10413-10968-2408151125-2408151450--32480', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'DFW', 'displayCode': 'DFW', 'parent': {'flightPlaceId': 'DFWA', 'displayCode': 'DFW', 'name': 'Dallas', 'type': 'City'}, 'name': 'Dallas Fort Worth International', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T11:25:00', 'arrival': '2024-08-15T14:50:00', 'durationInMinutes': 625, 'flightNumber': '1537', 'marketingCarrier': {'id': -32480, 'name': 'British Airways', 'alternateId': 'BA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}, {'id': '10968-14355-2408151637-2408151811--32480', 'origin': {'flightPlaceId': 'DFW', 'displayCode': 'DFW', 'parent': {'flightPlaceId': 'DFWA', 'displayCode': 'DFW', 'name': 'Dallas', 'type': 'City'}, 'name': 'Dallas Fort Worth International', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T16:37:00', 'arrival': '2024-08-15T18:11:00', 'durationInMinutes': 94, 'flightNumber': '2413', 'marketingCarrier': {'id': -32480, 'name': 'British Airways', 'alternateId': 'BA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31007, 'name': 'Envoy Air As American Eagle', 'alternateId': '', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': False, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'fareAttributes': {}, 'tags': ['second_shortest'], 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.433589}, {'id': '10413-2408151125--32573-1-14355-2408151811', 'price': {'raw': 1699840.04, 'formatted': '₩1,699,841', 'pricingOptionId': '8dJGg-AwRafj'}, 'legs': [{'id': '10413-2408151125--32573-1-14355-2408151811', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 826, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T11:25:00', 'arrival': '2024-08-15T18:11:00', 'timeDeltaInDays': 0, 'carriers': {'marketing': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}], 'operating': [{'id': -31007, 'name': 'Envoy Air As American Eagle'}], 'operationType': 'partially_operated'}, 'segments': [{'id': '10413-10968-2408151125-2408151450--32573', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'DFW', 'displayCode': 'DFW', 'parent': {'flightPlaceId': 'DFWA', 'displayCode': 'DFW', 'name': 'Dallas', 'type': 'City'}, 'name': 'Dallas Fort Worth International', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T11:25:00', 'arrival': '2024-08-15T14:50:00', 'durationInMinutes': 625, 'flightNumber': '49', 'marketingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}, {'id': '10968-14355-2408151637-2408151811--32573', 'origin': {'flightPlaceId': 'DFW', 'displayCode': 'DFW', 'parent': {'flightPlaceId': 'DFWA', 'displayCode': 'DFW', 'name': 'Dallas', 'type': 'City'}, 'name': 'Dallas Fort Worth International', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T16:37:00', 'arrival': '2024-08-15T18:11:00', 'durationInMinutes': 94, 'flightNumber': '4008', 'marketingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31007, 'name': 'Envoy Air As American Eagle', 'alternateId': '', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': False, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'fareAttributes': {}, 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.414149}, {'id': '10413-2408151030--32480-1-14355-2408151753', 'price': {'raw': 1696906.2, 'formatted': '₩1,696,907', 'pricingOptionId': 'z5SLzQcwad93'}, 'legs': [{'id': '10413-2408151030--32480-1-14355-2408151753', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 863, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T10:30:00', 'arrival': '2024-08-15T17:53:00', 'timeDeltaInDays': 0, 'carriers': {'marketing': [{'id': -32480, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/BA.png', 'name': 'British Airways'}], 'operating': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}], 'operationType': 'not_operated'}, 'segments': [{'id': '10413-10602-2408151030-2408151345--32480', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'CLT', 'displayCode': 'CLT', 'parent': {'flightPlaceId': 'CLTA', 'displayCode': 'CLT', 'name': 'Charlotte', 'type': 'City'}, 'name': 'Charlotte Douglas', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T10:30:00', 'arrival': '2024-08-15T13:45:00', 'durationInMinutes': 555, 'flightNumber': '1503', 'marketingCarrier': {'id': -32480, 'name': 'British Airways', 'alternateId': 'BA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}, {'id': '10602-14355-2408151647-2408151753--32480', 'origin': {'flightPlaceId': 'CLT', 'displayCode': 'CLT', 'parent': {'flightPlaceId': 'CLTA', 'displayCode': 'CLT', 'name': 'Charlotte', 'type': 'City'}, 'name': 'Charlotte Douglas', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T16:47:00', 'arrival': '2024-08-15T17:53:00', 'durationInMinutes': 126, 'flightNumber': '1789', 'marketingCarrier': {'id': -32480, 'name': 'British Airways', 'alternateId': 'BA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': False, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'eco': {'ecoContenderDelta': 10.172158}, 'fareAttributes': {}, 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.406918}, {'id': '10413-2408151125--32317-1-14355-2408151811', 'price': {'raw': 1697360.74, 'formatted': '₩1,697,361', 'pricingOptionId': '0gwrdn2oBgpK'}, 'legs': [{'id': '10413-2408151125--32317-1-14355-2408151811', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 826, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T11:25:00', 'arrival': '2024-08-15T18:11:00', 'timeDeltaInDays': 0, 'carriers': {'marketing': [{'id': -32317, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AY.png', 'name': 'Finnair'}], 'operating': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}, {'id': -31007, 'name': 'Envoy Air As American Eagle'}], 'operationType': 'not_operated'}, 'segments': [{'id': '10413-10968-2408151125-2408151450--32317', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'DFW', 'displayCode': 'DFW', 'parent': {'flightPlaceId': 'DFWA', 'displayCode': 'DFW', 'name': 'Dallas', 'type': 'City'}, 'name': 'Dallas Fort Worth International', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T11:25:00', 'arrival': '2024-08-15T14:50:00', 'durationInMinutes': 625, 'flightNumber': '5777', 'marketingCarrier': {'id': -32317, 'name': 'Finnair', 'alternateId': 'AY', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}, {'id': '10968-14355-2408151637-2408151811--32317', 'origin': {'flightPlaceId': 'DFW', 'displayCode': 'DFW', 'parent': {'flightPlaceId': 'DFWA', 'displayCode': 'DFW', 'name': 'Dallas', 'type': 'City'}, 'name': 'Dallas Fort Worth International', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T16:37:00', 'arrival': '2024-08-15T18:11:00', 'durationInMinutes': 94, 'flightNumber': '4280', 'marketingCarrier': {'id': -32317, 'name': 'Finnair', 'alternateId': 'AY', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -31007, 'name': 'Envoy Air As American Eagle', 'alternateId': '', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': False, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'fareAttributes': {}, 'tags': ['third_shortest'], 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.404216}, {'id': '10413-2408151355--32573-1-14355-2408152113', 'price': {'raw': 1699840.04, 'formatted': '₩1,699,841', 'pricingOptionId': '1V-OmLnDdBMg'}, 'legs': [{'id': '10413-2408151355--32573-1-14355-2408152113', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 858, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T13:55:00', 'arrival': '2024-08-15T21:13:00', 'timeDeltaInDays': 0, 'carriers': {'marketing': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}], 'operating': [{'id': -30992, 'name': 'PSA Airlines AS American Eagle'}], 'operationType': 'partially_operated'}, 'segments': [{'id': '10413-15333-2408151355-2408151615--32573', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'PHL', 'displayCode': 'PHL', 'parent': {'flightPlaceId': 'PHLA', 'displayCode': 'PHL', 'name': 'Philadelphia', 'type': 'City'}, 'name': 'Philadelphia International', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T13:55:00', 'arrival': '2024-08-15T16:15:00', 'durationInMinutes': 500, 'flightNumber': '755', 'marketingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}, {'id': '15333-14355-2408151905-2408152113--32573', 'origin': {'flightPlaceId': 'PHL', 'displayCode': 'PHL', 'parent': {'flightPlaceId': 'PHLA', 'displayCode': 'PHL', 'name': 'Philadelphia', 'type': 'City'}, 'name': 'Philadelphia International', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T19:05:00', 'arrival': '2024-08-15T21:13:00', 'durationInMinutes': 188, 'flightNumber': '5580', 'marketingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -30992, 'name': 'PSA Airlines AS American Eagle', 'alternateId': '', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': False, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'fareAttributes': {}, 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.389523}, {'id': '10413-2408151030--32573-1-14355-2408151753', 'price': {'raw': 1699840.04, 'formatted': '₩1,699,841', 'pricingOptionId': 'FJNwjZeWas5U'}, 'legs': [{'id': '10413-2408151030--32573-1-14355-2408151753', 'origin': {'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle', 'displayCode': 'CDG', 'city': 'Paris', 'country': 'France', 'isHighlighted': False}, 'destination': {'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong', 'displayCode': 'MSY', 'city': 'New Orleans', 'country': 'United States', 'isHighlighted': False}, 'durationInMinutes': 863, 'stopCount': 1, 'isSmallestStops': False, 'departure': '2024-08-15T10:30:00', 'arrival': '2024-08-15T17:53:00', 'timeDeltaInDays': 0, 'carriers': {'marketing': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}], 'operationType': 'fully_operated'}, 'segments': [{'id': '10413-10602-2408151030-2408151345--32573', 'origin': {'flightPlaceId': 'CDG', 'displayCode': 'CDG', 'parent': {'flightPlaceId': 'PARI', 'displayCode': 'PAR', 'name': 'Paris', 'type': 'City'}, 'name': 'Paris Charles de Gaulle', 'type': 'Airport', 'country': 'France'}, 'destination': {'flightPlaceId': 'CLT', 'displayCode': 'CLT', 'parent': {'flightPlaceId': 'CLTA', 'displayCode': 'CLT', 'name': 'Charlotte', 'type': 'City'}, 'name': 'Charlotte Douglas', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T10:30:00', 'arrival': '2024-08-15T13:45:00', 'durationInMinutes': 555, 'flightNumber': '787', 'marketingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}, {'id': '10602-14355-2408151647-2408151753--32573', 'origin': {'flightPlaceId': 'CLT', 'displayCode': 'CLT', 'parent': {'flightPlaceId': 'CLTA', 'displayCode': 'CLT', 'name': 'Charlotte', 'type': 'City'}, 'name': 'Charlotte Douglas', 'type': 'Airport', 'country': 'United States'}, 'destination': {'flightPlaceId': 'MSY', 'displayCode': 'MSY', 'parent': {'flightPlaceId': 'MSYA', 'displayCode': 'MSY', 'name': 'New Orleans', 'type': 'City'}, 'name': 'New Orleans Louis Armstrong', 'type': 'Airport', 'country': 'United States'}, 'departure': '2024-08-15T16:47:00', 'arrival': '2024-08-15T17:53:00', 'durationInMinutes': 126, 'flightNumber': '607', 'marketingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}, 'operatingCarrier': {'id': -32573, 'name': 'American Airlines', 'alternateId': 'AA', 'allianceId': 0, 'displayCode': ''}}]}], 'isSelfTransfer': False, 'isProtectedSelfTransfer': False, 'farePolicy': {'isChangeAllowed': False, 'isPartiallyChangeable': False, 'isCancellationAllowed': False, 'isPartiallyRefundable': False}, 'eco': {'ecoContenderDelta': 10.172158}, 'fareAttributes': {}, 'isMashUp': False, 'hasFlexibleOptions': False, 'score': 0.389112}], 'messages': [], 'filterStats': {'duration': {'min': 746, 'max': 2111, 'multiCityMin': 746, 'multiCityMax': 2111}, 'airports': [{'city': 'New Orleans', 'airports': [{'id': 'MSY', 'entityId': '95673750', 'name': 'New Orleans Louis Armstrong'}]}, {'city': 'Paris', 'airports': [{'id': 'CDG', 'entityId': '95565041', 'name': 'Paris Charles de Gaulle'}, {'id': 'ORY', 'entityId': '95565040', 'name': 'Paris Orly'}]}], 'carriers': [{'id': -32573, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AA.png', 'name': 'American Airlines'}, {'id': -32480, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/BA.png', 'name': 'British Airways'}, {'id': -32317, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/AY.png', 'name': 'Finnair'}, {'id': -30858, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/BF.png', 'name': 'French Bee'}, {'id': -30667, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/9%7E.png', 'name': 'Norse Atlantic Airways'}, {'id': -31825, 'logoUrl': 'https://logos.skyscnr.com/images/airlines/favicon/NK.png', 'name': 'Spirit Airlines'}], 'stopPrices': {'direct': {'isPresent': False}, 'one': {'isPresent': True, 'formattedPrice': '₩472,779'}, 'twoOrMore': {'isPresent': True, 'formattedPrice': '₩515,132'}}}, 'flightsSessionId': '138cd076-3d4a-4af8-b2bf-8b48e2413309', 'destinationImageUrl': 'https://content.skyscnr.com/m/3719e8f4a5daf43d/original/Flights-Placeholder.jpg', 'token': 'eyJhIjoxLCJjIjowLCJpIjowLCJjYyI6ImVjb25vbXkiLCJvIjoiUEFSSSIsImQiOiJNU1kiLCJkMSI6IjIwMjQtMDgtMTUifQ=='}, 'status': True, 'message': 'Successful'}
    # parse_data = parse_flight_info(d['data']['itineraries'])
    # summarize = summarize_flight_information(db, parse_data)
    # print(summarize)
    date_str = "2023-10-11"
    print(validate_date(date_str))

